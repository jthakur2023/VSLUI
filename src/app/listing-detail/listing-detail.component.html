<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@1&family=Josefin+Sans:ital,wght@1,300&family=Quicksand&family=Raleway:wght@200&display=swap"
  rel="stylesheet" />
<section>
  <div class="container">
    <!-- Portfolio Item Heading -->
    <h1 class="my-4">
      {{ currentListing.address }}

      <button class="btn btn-link" (click)="saveFavorite()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart"
          viewBox="0 0 16 16">
          <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641
          2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542
          6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717
          2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824
          1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042
          23.333 4.867 8 15z" />
        </svg>
      </button>
      <div *ngIf="currentListing.userid == currentUser.id" id="personalButtons">
        <button class="btn btn-warning" matTooltip="Info about the action" (click)="this.updateListing()">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1
              .908-.417A6 6 0 1 1 8 2v1z" />
            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36
                1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z" />
          </svg>
        </button>
        <button class="btn btn-danger" (click)="this.deleteListing()">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3"
            viewBox="0 0 16 16">
            <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11
                  2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5
                  1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853
                  10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0
                  1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0
                  0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0
                  1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5
                  8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5
                  0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1
                  .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0
                  1 .5-.5Z" />
          </svg>
        </button>
      </div>
    </h1>
    <!-- Portfolio Item Row -->
    <div class="row">
      <div class="col-md-8">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
          </ol>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img class="d-block w-100" src="http://localhost:8080/images/{{ currentListing.image }}" alt="First slide"
                height="500" />
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="http://localhost:8080/images/{{ currentListing.image2 }}"
                alt="Second slide" height="500" />
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="http://localhost:8080/images/{{ currentListing.image3 }}"
                alt="Third slide" height="500" />
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      </div>

      <div class="col-md-4">
        <h3 class="my-3">Overview</h3>
        <p>
          {{ currentListing.university
          }}<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt"
            viewBox="0 0 16 16">
            <path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493
                  31.493 0 0 1 8 14.58a31.481 31.481 0 0
                  1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3
                  6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8
                  16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z" />
            <path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6
                    3 3 0 0 0 0 6z" />
          </svg>
        </p>
        <p>Rent:${{ currentListing.rent }}</p>
        <p>Type:</p>
        <p>Sublease:</p>
        <p>Available: {{ currentListing.semester }}</p>
        <h3 class="my-3">Amenenties</h3>
        <ul>
          <li>Laundry: {{ currentListing.laundry }}</li>
          <li>Wifi: {{ currentListing.wifi }}</li>
          <li>Pool: {{ currentListing.pool }}</li>
          <li>Gym: {{ currentListing.gym }}</li>
          <li>Parking:{{ currentListing.parking }}</li>
        </ul>
      </div>
    </div>
    <div *ngIf="currentListing.userid == currentUser.id" id="personalButtons">
      <button class="btn btn-success" (click)="this.addItem()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle"
          viewBox="0 0
                  16 16">
          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0
                    8 0a8 8 0 0 0 0 16z" />
          <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0
                      1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0
                      0 1 8 4z" />
        </svg>
      </button>
    </div>
    <div class="container">
      <div class="row" *ngIf="items != undefined && items.length > 0">
        <br /><br />
        <div id="accordionExample" class="accordion shadow">
          <!-- Accordion item 1 -->
          <div class="card">
            <div id="headingOne" class="card-header bg-white shadow-sm border-0">
              <h6 class="mb-0 font-weight-bold">
                <a href="#" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true"
                  aria-controls="collapseOne"
                  class="d-block position-relative text-dark text-uppercase collapsible-link py-2">Furniture
                  included:</a>
              </h6>
            </div>
            <div id="collapseOne" aria-labelledby="headingOne" data-parent="#accordionExample" class="collapse show">
              <div class="card-body p-5">
                <div class="col" *ngFor="let item of items; let i = index">
                  <div class="card" style="width: 18rem">
                    <img src="http://localhost:8080/images/{{ item.image }}" alt="" class="card-img-top" />
                    <h5 class="card-title">{{ item.title }}</h5>
                    <h5>{{ item.description }}</h5>
                    <span class="badge badge-secondary">
                      Price:{{ item.price }}</span>
                    <span class="badge badge-success">Condition:{{ item.condition }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br />
  <br />
  <div class="container">
    <h5 class="card-title" id="commentTitle">Comments</h5>
    <div class="col-lg-12 mb-12" *ngFor="let comment of comments; let i = index">
      <div class="card p-3" id="card">
        <div class="d-flex justify-content-between align-items-center">
          <div class="user d-flex flex-row align-items-center">
            <img src="//ssl.gstatic.com/accounts/ui/avatar_2x.png" width="30" class="user-img rounded-circle mr-2" />
            <span><small class="font-weight-bold text-primary">{{
                currentUser.username
                }}</small>
              <small class="font-weight-bold">{{ comment.comment }}</small></span>
          </div>
          <small>{{ comment.createdAt.substring(0, 10) }}</small>
        </div>
      </div>
    </div>
    <br>
  </div>
  <app-comments [currentListing]="currentListing"></app-comments>
  <h3 class="my-4">Other Listings in {{currentListing.university}}</h3>

  <div class="row">
    <div class="col-md-3 col-sm-6 mb-4">
      <a href="#">
        <img class="img-fluid" src="https://via.placeholder.com/500x300" alt="" />
      </a>
    </div>

    <div class="col-md-3 col-sm-6 mb-4">
      <a href="#">
        <img class="img-fluid" src="https://via.placeholder.com/500x300" alt="" />
      </a>
    </div>

    <div class="col-md-3 col-sm-6 mb-4">
      <a href="#">
        <img class="img-fluid" src="https://via.placeholder.com/500x300" alt="" />
      </a>
    </div>

    <div class="col-md-3 col-sm-6 mb-4">
      <a href="#">
        <img class="img-fluid" src="https://via.placeholder.com/500x300" alt="" />
      </a>
    </div>
  </div>
</section>